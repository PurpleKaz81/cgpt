[tox]
env_list = py38, py39, py310, py311, py312, py313, lint, py
skip_missing_interpreters = true
requires = tox>=4.24

[testenv]
description = Run unit tests with unittest discovery
commands = python -m unittest discover -s tests -p test_*.py -v

[testenv:py]
description = Convenience environment for the currently active interpreter
commands = python -m unittest discover -s tests -p test_*.py -v

[testenv:lint]
description = Run Python and Markdown lint checks
deps = ruff==0.9.10
allowlist_externals = npx
commands =
    ruff check .
    npx --yes markdownlint-cli2@0.16.0 "**/*.md" "\#node_modules" "\#.venv" "\#.tox"
